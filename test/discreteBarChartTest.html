<!DOCTYPE html>
<meta charset="utf-8">
<link href="../src/nv.d3.css" rel="stylesheet" type="text/css">
<link href="teststyle.css" rel="stylesheet" type='text/css'>
<style>

    body {
        overflow-y:scroll;
        font-family: Arial;
    }

    text {
        font: 12px sans-serif;
    }

</style>
<body class='with-transitions'>

<div class='chart' id="test1">
    <h2>Discrete Bar Chart</h2>
    <svg></svg>
</div>

<div class='chart' id="test2">
    <h2>No Data</h2>
    <svg></svg>
</div>

<div class='chart' id="test3">
    <h2>Thirty Series</h2>
    <svg></svg>
</div>

<div class='chart' id="test4">
    <h2>Zeros</h2>
    <svg></svg>
</div>

<script src="../lib/d3.v3.js"></script>
<script src="../nv.d3.js"></script>
<script src="../src/canvas.js"></script>
<script src="../src/models/discreteBar.js"></script>
<script src="../src/models/discreteBarChart.js"></script>
<script src="../src/utils.js"></script>
<script>

    function thirtySeries() {
        var values = [];
        for(var i =0; i < 30; i++) {
            values.push({
                label: i.toString(),
                value: Math.floor(Math.random() * 100)
            });
        }
        return [{
            key: "Random",
            values: values
        }];
    }
    var testdata = [
                {
                    key: "Cumulative Return",
                    values: [
                        {
                            "label" : "A" ,
                            "value" : 29.765957771107
                        } ,
                        {
                            "label" : "B" ,
                            "value" : 0
                        } ,
                        {
                            "label" : "C" ,
                            "value" : 32.807804682612
                        } ,
                        {
                            "label" : "D" ,
                            "value" : 196.45946739256
                        } ,
                        {
                            "label" : "E" ,
                            "value" : 0.19434030906893
                        } ,
                        {
                            "label" : "F" ,
                            "value" : 98.079782601442
                        } ,
                        {
                            "label" : "G" ,
                            "value" : 13.925743130903
                        } ,
                        {
                            "label" : "H" ,
                            "value" : 5.1387322875705
                        }
                    ]
                }
            ],
            testdata2 = [
                {
                    key: "Zeros",
                    values: [
                        {
                            "label" : "A" ,
                            "value" : 0
                        } ,
                        {
                            "label" : "B" ,
                            "value" : 0
                        } ,
                        {
                            "label" : "C" ,
                            "value" : 0
                        } ,
                        {
                            "label" : "D" ,
                            "value" : 0
                        } ,
                        {
                            "label" : "E" ,
                            "value" : 0
                        } ,
                        {
                            "label" : "F" ,
                            "value" : 0
                        } ,
                        {
                            "label" : "G" ,
                            "value" : 0
                        } ,
                        {
                            "label" : "H" ,
                            "value" : 0
                        }
                    ]
                }
            ];

    function defaultChart(containerId, data, labelType) {
        nv.addGraph(function() {
            var chart = nv.models.discreteBarChart()
                    .x(function(d) { return d.label })
                    .y(function(d) { return d.value })
                    .staggerLabels(true)
                    .tooltips(false)
                    .showValues(true)
                    .transitionDuration(250);

            d3.select('#'+containerId+' svg')
                    .datum(data)
                    .call(chart);

            nv.utils.windowResize(chart.update);

            return chart;
        });
    }

    defaultChart("test1", testdata);
    defaultChart("test2", []);
    defaultChart("test3", thirtySeries());
    defaultChart("test4", testdata2);

</script>
